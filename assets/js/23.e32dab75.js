(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{532:function(t,a,e){"use strict";e.r(a);var s=e(2),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("Boxx"),t._v(" "),e("h2",{attrs:{id:"前言背景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言背景"}},[t._v("#")]),t._v(" 前言背景")]),t._v(" "),e("p",[t._v("运营同事策划了玩游戏兑券的活动。由于开发资源吃紧，该游戏活动开发任务由其他合作方负责（下文以 C 表示），小程序这边需要做为开放入口，以及提供给 C 用户信息接口，接收 C 反馈分享信息等操作。")]),t._v(" "),e("h2",{attrs:{id:"问题探讨-解决方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#问题探讨-解决方案"}},[t._v("#")]),t._v(" 问题探讨/解决方案")]),t._v(" "),e("p",[t._v("C 方开发的游戏部分为 H5，那么在小程序中只能由"),e("code",[t._v("web-view")]),t._v("打开。在上述流程中有一个比较关键的点，H5 与小程序如何通讯，以及如何保证通信信息获取的准确、实时（实际上我们通过文档可知，这个过程我们是无法主动控制的）。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("网页向小程序 postMessage 时，会在特定时机（小程序后退、组件销毁、分享）触发并收到消息。\ne.detail = { data }，data是多次 postMessage 的参数组成的数组\n")])])])],1)}),[],!1,null,null,null);a.default=r.exports}}]);